<!-- index.html -->
<!doctype html>

<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="automationTestingTool">

<head>
    <!-- META -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Optimize mobile viewport -->

    <title>Automation Testing Tool</title>

    <!-- SCROLLS -->
    <link rel="stylesheet" href="bower_components/boostrap/dist/css/bootstrap.min.css">
    <!-- load bootstrap -->


    <!-- SPELLS -->
    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <!-- load jquery -->
    <script src="bower_components/angular/angular.min.js"></script>
    <script src="bower_components/angular-touch/angular-touch.min.js"></script>
    <script src="bower_components/angular-animate/angular-animate.min.js"></script>
    <script src="bower_components/boostrap/dist/js/bootstrap.min.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
    <script src="bower_components/chart.js/dist/Chart.min.js"></script>
    <script src="core.js"></script>

</head>
<!-- SET THE CONTROLLER AND GET ALL TODOS -->

<body ng-controller="mainController">
    <div class="container">

        <!-- HEADER AND TODO COUNT -->
        <div class="jumbotron text-center">
            <h1>Automation Testing Tool</h1>
        </div>

        <uib-tabset>
            <uib-tab index="0" heading="Tests Suites">
                <table id="test-suites" class="table table-striped">
                    <tbody>
                        <tr ng-repeat="testSuite in testSuites">
                            <td>
                                <p>
                                    <strong>{{testSuite.name}}</strong>
                                </p>
                                <p>{{testSuite.describe}}</p>
                            </td>
                            <td>
                                <button class="btn btn-primary" type="button">Assertions
                                    <span class="badge">{{testSuite.assertions.length}}</span>
                                </button>
                            </td>
                            <td>
                                <select name="" id="" ng-model="testSuite.providerName">
                                    <option value="cypress">cypress</option>
                                    <option value="nightwatch">nightwatch</option>
                                    <option value="cucumber">cucumber</option>
                                </select>
                            </td>
                            <td>
                                <button class="btn btn-warning" type="button" ng-click="execute(testSuite)">Execute
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </uib-tab>
            <uib-tab index="1" heading="Historic">
                <table id="executions" class="table table-striped">
                    <tbody ng-repeat="execution in executions">
                        <tr>
                            <td>
                                <img src="images/{{execution.provider}}Logo.png" alt="" style="max-width: 48px;">
                            </td>
                            <td>
                                <p>
                                    <strong>{{execution.name}}</strong>
                                </p>
                                <p>{{execution.describe}}</p>
                            </td>
                            <td>
                                <span class="label label-success" ng-if="execution.failures <= 0">
                                    <span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> success</span>
                                <span class="label label-danger" ng-if="execution.failures > 0">
                                    <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> fail</span>
                            </td>
                            <td>
                                {{execution.timestamp}}
                            </td>
                            <td>
                                <button class="btn btn-default">
                                    <span class="glyphicon glyphicon-download" aria-hidden="true"></span> Download Test
                                </button>

                                <button class="btn btn-default" ng-click="selectExecution(execution)">
                                    <span class="glyphicon glyphicon-stats" aria-hidden="true"></span> More Stats
                                </button>
                            </td>
                        </tr>
                        <tr ng-if="selectedExecution._id === execution._id">
                            <td colspan="3">
                                <canvas id="success-vs-failures-chart" width="400" height="400">

                                </canvas>
                            </td>
                            <td colspan="2">
                                <div class="jumbotron">
                                    <h2>
                                        <strong>Total Time:</strong>
                                        <span class="glyphicon glyphicon-time" aria-hidden="true"></span> {{selectedExecution.time}}</h2>

                                    <button class="btn btn-primary" type="button">Assertions
                                        <span class="badge">{{selectedExecution.assertions}}</span>
                                    </button>

                                    <button class="btn btn-success" type="button">Success
                                        <span class="badge">{{selectedExecution.successTests}}</span>
                                    </button>

                                    <button class="btn btn-danger" type="button">Failures
                                        <span class="badge">{{selectedExecution.failures}}</span>
                                    </button>
                                </div>
                                <table class="table table-striped">
                                    <tbody ng-repeat="testcase in selectedExecution.results.testsuites.testsuite[1].testcase">
                                        <tr ng-class="testcase.failure ? 'danger' : 'success'">
                                            <td>{{testcase.$.name}}</td>
                                            <td>{{testcase.$.classname}}</td>
                                            <td>
                                                <span class="glyphicon glyphicon-time" aria-hidden="true"></span> {{testcase.$.time}}</td>
                                            <td>
                                                <button class="btn btn-default" ng-disabled="testcase.failure === undefined" ng-click="testcase.showFailure = true">
                                                    <span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> See More
                                                </button>
                                            </td>
                                        </tr>
                                        <tr ng-if="testcase.showFailure">
                                            <td colspan="4">
                                                <p>{{testcase.failure}}</p>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </uib-tab>
            <uib-tab index="2" heading="Create Random Test">
                <form name="androidRandomTestForm" class="form-horizontal" novalidate>

                    <ol class="breadcrumb">
                        <li>
                            <a href="">General</a>
                        </li>
                    </ol>

                    <div class="form-group" ng-class="androidRandomTestForm.eventcount.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                        </div>
                        <label for="eventcount" class="col-sm-2 control-label">
                            event count
                        </label>
                        <div class="col-sm-9">
                            <input type="number" class="form-control" id="eventcount" name="eventcount" aria-describedby="help-eventcount" placeholder="75"
                                ng-model="androidRandomTest.eventcount.value" min="0" required>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.verbosity.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.verbosity.visible = !androidRandomTest.verbosity.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.verbosity.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="verbosity" class="col-sm-2 control-label">
                            verbosity
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.verbosity.visible">
                            <input type="number" class="form-control" id="verbosity" name="verbosity" aria-describedby="help-verbosity" placeholder="75"
                                ng-model="androidRandomTest.verbosity.value" min="0" required>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.allowedpackagename.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.allowedpackagename.visible = !androidRandomTest.allowedpackagename.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.allowedpackagename.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="allowedpackagename" class="col-sm-2 control-label">
                            allowed package name
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.allowedpackagename.visible">
                            <input type="text" class="form-control" id="allowedpackagename" name="allowedpackagename" aria-describedby="help-allowedpackagename"
                                placeholder="your.package.name" ng-model="androidRandomTest.allowedpackagename.value" required>
                        </div>
                    </div>

                    <ol class="breadcrumb">
                        <li>
                            <a href="">Events</a>
                        </li>
                    </ol>

                    <div class="form-group" ng-class="androidRandomTestForm.seed.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.seed.visible = !androidRandomTest.seed.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.seed.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="seed" class="col-sm-2 control-label">
                            Seed
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.seed.visible">
                            <input type="number" class="form-control" id="seed" name="seed" aria-describedby="help-seed" placeholder="75" ng-model="androidRandomTest.seed.value"
                                min="0" required>
                            <span id="help-seed" class="help-block">Seed value for pseudo-random number generator. If you re-run the Monkey with the same seed value,
                                it will generate the same sequence of events.</span>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.throttle.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.throttle.visible = !androidRandomTest.throttle.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.throttle.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="throttle" class="col-sm-2 control-label">
                            throttle
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.throttle.visible">
                            <input type="number" class="form-control" id="throttle" name="throttle" aria-describedby="help-throttle" placeholder="75"
                                ng-model="androidRandomTest.throttle.value" min="0" required>
                            <span id="help-throttle" class="help-block">Inserts a fixed delay between events. You can use this option to slow down the Monkey. If not
                                specified, there is no delay and the events are generated as rapidly as possible.</span>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.pcttouch.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.pcttouch.visible = !androidRandomTest.pcttouch.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.pcttouch.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="pcttouch" class="col-sm-2 control-label">
                            percentage touch
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.pcttouch.visible">
                            <input type="number" class="form-control" id="pcttouch" name="pcttouch" aria-describedby="help-pcttouch" placeholder="75"
                                ng-model="androidRandomTest.pcttouch.value" min="0" max="100" required>
                            <span id="help-pcttouch" class="help-block">Adjust percentage of touch events. (Touch events are a down-up event in a single place on the
                                screen.)
                            </span>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.pctmotion.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.pctmotion.visible = !androidRandomTest.pctmotion.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.pctmotion.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="pctmotion" class="col-sm-2 control-label">
                            percentage motion
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.pctmotion.visible">
                            <input type="number" class="form-control" id="pctmotion" name="pctmotion" aria-describedby="help-pctmotion" placeholder="75"
                                ng-model="androidRandomTest.pctmotion.value" min="0" max="100" required>
                            <span id="help-pctmotion" class="help-block">Adjust percentage of motion events. (Motion events consist of a down event somewhere on the screen,
                                a series of pseudo-random movements, and an up event.)</span>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.pcttrackball.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.pcttrackball.visible = !androidRandomTest.pcttrackball.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.pcttrackball.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="pcttrackball" class="col-sm-2 control-label">
                            percentage trackball
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.pcttrackball.visible">
                            <input type="number" class="form-control" id="pcttrackball" name="pcttrackball" aria-describedby="help-pcttrackball" placeholder="75"
                                ng-model="androidRandomTest.pcttrackball.value" min="0" max="100" required>
                            <span id="help-pcttrackball" class="help-block">Adjust percentage of trackball events. (Trackball events consist of one or more random movements,
                                sometimes followed by a click.)</span>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.pctnav.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.pctnav.visible = !androidRandomTest.pctnav.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.pctnav.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="pctnav" class="col-sm-2 control-label">
                            percentage nav
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.pctnav.visible">
                            <input type="number" class="form-control" id="pctnav" name="pctnav" aria-describedby="help-pctnav" placeholder="75" ng-model="androidRandomTest.pctnav.value"
                                min="0" max="100" required>
                            <span id="help-pctnav" class="help-block">Adjust percentage of "basic" navigation events. (Navigation events consist of up/down/left/right,
                                as input from a directional input device.)</span>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.pctmajornav.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.pctmajornav.visible = !androidRandomTest.pctmajornav.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.pctmajornav.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="pctmajornav" class="col-sm-2 control-label">
                            percentage majornav
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.pctmajornav.visible">
                            <input type="number" class="form-control" id="pctmajornav" name="pctmajornav" aria-describedby="help-pctmajornav" placeholder="75"
                                ng-model="androidRandomTest.pctmajornav.value" min="0" max="100" required>
                            <span id="help-pctmajornav" class="help-block">Adjust percentage of "major" navigation events. (These are navigation events that will typically
                                cause actions within your UI, such as the center button in a 5-way pad, the back key, or
                                the menu key.)</span>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.pctsyskeys.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.pctsyskeys.visible = !androidRandomTest.pctsyskeys.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.pctsyskeys.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="pctsyskeys" class="col-sm-2 control-label">
                            percentage syskeys
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.pctsyskeys.visible">
                            <input type="number" class="form-control" id="pctsyskeys" name="pctsyskeys" aria-describedby="help-pctsyskeys" placeholder="75"
                                ng-model="androidRandomTest.pctsyskeys.value" min="0" max="100" required>
                            <span id="help-pctsyskeys" class="help-block">Adjust percentage of "system" key events. (These are keys that are generally reserved for use
                                by the system, such as Home, Back, Start Call, End Call, or Volume controls.)</span>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.pctappswitch.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.pctappswitch.visible = !androidRandomTest.pctappswitch.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.pctappswitch.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="pctappswitch" class="col-sm-2 control-label">
                            percentage appswitch
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.pctappswitch.visible">
                            <input type="number" class="form-control" id="pctappswitch" name="pctappswitch" aria-describedby="help-pctappswitch" placeholder="75"
                                ng-model="androidRandomTest.pctappswitch.value" min="0" max="100" required>
                            <span id="help-pctappswitch" class="help-block">Adjust percentage of activity launches. At random intervals, the Monkey will issue a startActivity()
                                call, as a way of maximizing coverage of all activities within your package.</span>
                        </div>
                    </div>

                    <div class="form-group" ng-class="androidRandomTestForm.pctanyevent.$valid ? 'has-success' : 'has-error' ">
                        <div class="col-sm-1">
                            <button ng-click="androidRandomTest.pctanyevent.visible = !androidRandomTest.pctanyevent.visible">
                                <span class="glyphicon glyphicon-{{androidRandomTest.pctanyevent.visible ? 'minus' : 'plus' }}" aria-hidden="true"></span>
                            </button>
                        </div>
                        <label for="pctanyevent" class="col-sm-2 control-label">
                            percentage anyevent
                        </label>
                        <div class="col-sm-9" ng-if="androidRandomTest.pctanyevent.visible">
                            <input type="number" class="form-control" id="pctanyevent" name="pctanyevent" aria-describedby="help-pctanyevent" placeholder="75"
                                ng-model="androidRandomTest.pctanyevent.value" min="0" max="100" required>
                            <span id="help-pctanyevent" class="help-block">Adjust percentage of other types of events. This is a catch-all for all other types of events
                                such as keypresses, other less-used buttons on the device, and so forth.</span>
                        </div>
                    </div>

                    <button ng-click="generateRandomTestingCommand()">Generate</button>
                </form>
            </uib-tab>
            <uib-tab index="3" heading="Mutation testing">
                <table id="mutationtesting" class="table table-striped">
                    <tbody>
                        <tr>
                            <td>
                              <label for="repoJSPath" class="col-sm-2 control-label">
                                  JS Mutaion
                              </label>
                              <div class="col-sm-9">
                                  <input type="text" class="form-control" id="repoJSPath" name="repoPath"  placeholder="ingrese la URL del repositorio" ng-model="mutation.js.repository" required>
                              </div>
                            </td>
                            <td>
                                <button class="btn btn-warning" type="button" ng-click="executeMutationTestingJS()">Execute
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </uib-tab>
        </uib-tabset>

    </div>

</body>

</html>
